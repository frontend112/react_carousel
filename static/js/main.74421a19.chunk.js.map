{"version":3,"sources":["components/Carousel.tsx","App.tsx","index.tsx"],"names":["Carousel","images","step","frameSize","itemWidth","animationDuration","infinite","itemPosition","maxItemPosition","length","carouselList","useRef","wrapper","moveItems","current","style","transform","useEffect","width","transition","toString","className","type","onClick","cn","disabled","ref","map","image","index","src","alt","App","useState","carouselElements","setCarouselElements","handleChange","event","target","value","id","state","htmlFor","onChange","min","name","checked","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.74421a19.chunk.js","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport cn from 'classnames';\n\nimport './Carousel.scss';\n\ninterface Props {\n  images: string[];\n  step: number;\n  frameSize: number;\n  itemWidth: number;\n  animationDuration: number;\n  infinite: boolean;\n}\n\nconst Carousel: React.FC<Props> = ({\n  images,\n  step,\n  frameSize,\n  itemWidth,\n  animationDuration,\n  infinite,\n}) => {\n  let itemPosition = 0;\n  const maxItemPosition = images.length - frameSize;\n\n  const carouselList = useRef<HTMLUListElement>(null);\n  const wrapper = useRef<HTMLDivElement>(null);\n\n  const moveItems = () => {\n    if (carouselList && carouselList.current) {\n      carouselList.current.style.transform\n      = itemPosition >= maxItemPosition\n          ? `translateX(${(-maxItemPosition) * itemWidth}px)`\n          : `translateX(${-itemPosition * itemWidth}px)`;\n    }\n  };\n\n  const handlePrevClick = () => {\n    if (infinite && itemPosition === 0) {\n      itemPosition = maxItemPosition + step;\n    }\n\n    if (itemPosition > 0) {\n      itemPosition -= step;\n    }\n\n    if (itemPosition < 0) {\n      itemPosition = 0;\n    }\n\n    moveItems();\n  };\n\n  const handleNextClick = () => {\n    if (infinite && itemPosition === maxItemPosition) {\n      itemPosition = -step;\n    }\n\n    if (itemPosition < maxItemPosition) {\n      itemPosition += step;\n    }\n\n    if (itemPosition >= maxItemPosition) {\n      itemPosition = maxItemPosition;\n    }\n\n    moveItems();\n  };\n\n  useEffect(() => {\n    if (wrapper && wrapper.current) {\n      wrapper.current.style.width = `${itemWidth * frameSize}px`;\n    }\n\n    if (carouselList && carouselList.current) {\n      carouselList.current.style.transition = `${animationDuration.toString()}ms`;\n    }\n  }, [itemWidth, frameSize, animationDuration]);\n\n  return (\n    <div className=\"Carousel\">\n      <button\n        type=\"button\"\n        onClick={handlePrevClick}\n        className={cn(\n          'Carousel__arrow Carousel__arrow--prev',\n          {\n            disabled: !infinite,\n          },\n        )}\n      >\n        {'<='}\n      </button>\n      <div className=\"Carousel__list-wrapper\" ref={wrapper}>\n        <ul className=\"Carousel__list\" ref={carouselList}>\n          {\n            images.map((image, index) => (\n              <li key={image}>\n                <img\n                  src={image}\n                  alt={index.toString()}\n                  width={itemWidth}\n                  className=\"Carousel__image\"\n                />\n              </li>\n            ))\n          }\n        </ul>\n      </div>\n\n      <button\n        type=\"button\"\n        onClick={handleNextClick}\n        data-cy=\"next\"\n        className={cn(\n          'Carousel__arrow Carousel__arrow--next',\n        )}\n      >\n        {'=>'}\n      </button>\n    </div>\n  );\n};\n\nexport default Carousel;\n","import { FC, ChangeEvent, useState } from 'react';\nimport './App.scss';\nimport Carousel from './components/Carousel';\n\nconst App: FC = () => {\n  const images = [\n    './img/1.png',\n    './img/2.png',\n    './img/3.png',\n    './img/4.png',\n    './img/5.png',\n    './img/6.png',\n    './img/7.png',\n    './img/8.png',\n    './img/9.png',\n    './img/10.png',\n  ];\n\n  const [carouselElements, setCarouselElements] = useState(\n    {\n      step: 2,\n      frameSize: 3,\n      itemWidth: 130,\n      animationDuration: 1000,\n      infinite: false,\n    },\n  );\n\n  const {\n    step,\n    frameSize,\n    itemWidth,\n    animationDuration,\n    infinite,\n  } = carouselElements;\n\n  const handleChange = (event: ChangeEvent<HTMLInputElement>) => {\n    const { value, id } = event.target;\n\n    if (id === 'infinite') {\n      setCarouselElements(state => (\n        {\n          ...state,\n          infinite: !state.infinite,\n        }\n      ));\n\n      return;\n    }\n\n    setCarouselElements(state => (\n      {\n        ...state,\n        [id]: +value,\n      }\n    ));\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 data-cy=\"title\">\n        Carousel with\n        {images.length}\n      </h1>\n\n      <div className=\"container\">\n        <Carousel\n          images={images}\n          step={step}\n          frameSize={frameSize}\n          itemWidth={itemWidth}\n          animationDuration={animationDuration}\n          infinite={infinite}\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"itemWidth\">Item Width:</label>\n        <input\n          type=\"number\"\n          value={itemWidth}\n          onChange={handleChange}\n          id=\"itemWidth\"\n          min=\"0\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"frameSize\">Frame size:</label>\n        <input\n          type=\"number\"\n          value={frameSize}\n          onChange={handleChange}\n          id=\"frameSize\"\n          min=\"0\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"step\">step:</label>\n        <input\n          type=\"number\"\n          value={step}\n          onChange={handleChange}\n          id=\"step\"\n          min=\"0\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"animationDuration\">animation duration:</label>\n        <input\n          type=\"number\"\n          value={animationDuration}\n          onChange={handleChange}\n          id=\"animationDuration\"\n          min=\"0\"\n        />\n      </div>\n\n      <form>\n        <label htmlFor=\"infinite\">infinite:</label>\n        <input\n          type=\"checkbox\"\n          name=\"infinite\"\n          id=\"infinite\"\n          onChange={handleChange}\n          checked={infinite === true}\n        />\n      </form>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}